import{u as x,r as i,j as e,L as N,n as k}from"./index-CqqXf6LI.js";import{f as g}from"./index-CmJ3BAIc.js";const v="_container_kido4_1",C="_registerCard_kido4_21",S="_backButton_kido4_41",I="_backIcon_kido4_91",f="_title_kido4_101",B="_form_kido4_119",y="_inputGroup_kido4_131",w="_label_kido4_141",L="_input_kido4_131",G="_subjectInputContainer_kido4_191",F="_subjectInput_kido4_191",R="_addButton_kido4_235",q="_subjectList_kido4_269",A="_addedSubjectsTitle_kido4_277",T="_subjectUl_kido4_291",U="_subjectItem_kido4_309",D="_subjectCode_kido4_329",E="_removeButton_kido4_337",P="_submitButton_kido4_379",t={container:v,registerCard:C,backButton:S,backIcon:I,title:f,form:B,inputGroup:y,label:w,input:L,subjectInputContainer:G,subjectInput:F,addButton:R,subjectList:q,addedSubjectsTitle:A,subjectUl:T,subjectItem:U,subjectCode:D,removeButton:E,submitButton:P},J=()=>{const l=x(),[m,r]=i.useState(!1),[s,o]=i.useState({id:"",name:"",course:"",subjects:[],password:""}),[u,d]=i.useState(""),c=n=>{const{name:a,value:h}=n.target;o({...s,[a]:h})},b=()=>{u.trim()!==""&&(o({...s,subjects:[...s.subjects,u.trim()]}),d(""))},j=n=>{const a=[...s.subjects];a.splice(n,1),o({...s,subjects:a})},p=async n=>{n.preventDefault(),console.log(s),r(!0);const a=await k(s);r(!1),console.log(a),alert(a.data.message),a.status===201&&l("/admin")},_=()=>{l("/admin")};return m?e.jsx(N,{}):e.jsx("div",{className:t.container,children:e.jsxs("div",{className:t.registerCard,children:[e.jsx("button",{className:t.backButton,onClick:_,children:e.jsx(g,{className:t.backIcon})}),e.jsx("h1",{className:t.title,children:"Student Registration"}),e.jsxs("form",{onSubmit:p,className:t.form,children:[e.jsxs("div",{className:t.inputGroup,children:[e.jsx("label",{htmlFor:"id",className:t.label,children:"Roll Number"}),e.jsx("input",{type:"text",id:"id",name:"id",value:s.id,onChange:c,className:t.input,required:!0})]}),e.jsxs("div",{className:t.inputGroup,children:[e.jsx("label",{htmlFor:"name",className:t.label,children:"Full Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:c,className:t.input,required:!0})]}),e.jsxs("div",{className:t.inputGroup,children:[e.jsx("label",{htmlFor:"course",className:t.label,children:"Course"}),e.jsx("input",{type:"text",id:"course",name:"course",value:s.course,onChange:c,className:t.input,required:!0})]}),e.jsxs("div",{className:t.inputGroup,children:[e.jsx("label",{className:t.label,children:"Subject Codes"}),e.jsxs("div",{className:t.subjectInputContainer,children:[e.jsx("input",{type:"text",value:u,onChange:n=>d(n.target.value),className:t.subjectInput,placeholder:"Enter subject code"}),e.jsx("button",{type:"button",onClick:b,className:t.addButton,children:"Add"})]}),s.subjects.length>0&&e.jsxs("div",{className:t.subjectList,children:[e.jsx("p",{className:t.addedSubjectsTitle,children:"Added Subjects:"}),e.jsx("ul",{className:t.subjectUl,children:s.subjects.map((n,a)=>e.jsxs("li",{className:t.subjectItem,children:[e.jsx("span",{className:t.subjectCode,children:n}),e.jsx("button",{type:"button",onClick:()=>j(a),className:t.removeButton,children:"Ã—"})]},a))})]})]}),e.jsxs("div",{className:t.inputGroup,children:[e.jsx("label",{htmlFor:"password",className:t.label,children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:s.password,onChange:c,className:t.input,required:!0})]}),e.jsx("button",{type:"submit",className:t.submitButton,children:"Register"})]})]})})};export{J as default};
